import{j as r}from"./index-Cm1k3WOj.js";import{G as m}from"./GenericGrid-C-ekPLuX.js";import{u as n}from"./matrices-Q8tWdPl2.js";import{u as c}from"./compuestos-Dak9RLOv.js";import{a as u}from"./textNormalizer-CPyUSg4M.js";import"./data-grid-BFs8E209.js";import"./m_export-0R763p3z.js";import"./apiResource-5P-thon0.js";import"./localization-BrGm2QGq.js";import"./excelExport-6a3b1BXt.js";import"./exceljs.min-l8QLPR3U.js";import"./export_merged_ranges_manager-LVo80yp1.js";import"./useQuery-CW2cZTZx.js";function O(){const{matrices:d}=n(),{compuestos:i}=c(),s=[{dataField:"id",width:90,caption:"ID",allowFiltering:!1,allowSearch:!1},{dataField:"matrizId",caption:"Matriz",width:120,visible:!1,lookup:{dataSource:d,valueExpr:"id",displayExpr:"nombre"}},{dataField:"matriz",caption:"Matriz"},{dataField:"textoLab",caption:"Texto Laboratorio",validationRules:[{type:"required",message:"El texto del mÃ©todo es obligatorio"}],setCellValue:(o,t,e)=>{o.textoLab=t,o.textoProcesado=u(t)}},{dataField:"textoProcesado",caption:"Texto normalizado"},{dataField:"compuestoId",caption:"Compuesto",visible:!1,lookup:{dataSource:i,valueExpr:"id",displayExpr:"nombre"}},{dataField:"compuesto",caption:"Compuesto"}],l={colCount:8,items:[{dataField:"id",colSpan:1,editorOptions:{disabled:!0}},{dataField:"matrizId",colSpan:1},{dataField:"textoLab",colSpan:3,editorOptions:{maxLength:60}},{dataField:"textoProcesado",colSpan:3,editorOptions:{disabled:!0}},{dataField:"compuestoId",colSpan:3,editorType:"dxSelectBox",editorOptions:{dataSource:i,displayExpr:"nombre",valueExpr:"id",searchEnabled:!0}}]};return r.jsx("div",{children:r.jsx(m,{title:"Sinonimos Compuestos",resource:"sinonimoscompuestos",columns:s,keyExpr:"id",editable:!0,form:l,size:"mediumShort",onEditorPreparing:o=>{var t,e;if(o.dataField==="compuestoId"){const a=(e=(t=o.row)==null?void 0:t.data)==null?void 0:e.matrizId;a?o.editorOptions.dataSource=i.filter(p=>p.matrizCodigo===a):o.editorOptions.dataSource=[]}}})})}export{O as default};
