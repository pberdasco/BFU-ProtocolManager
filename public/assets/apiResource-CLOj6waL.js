console.log("[apiConfig] VITE_API_BASE: undefined  (Development: false)");const n=window.location.origin+"/api/";console.log(`[apiConfig] Utilizando Server en ${n}`);class h{constructor(r,e=n){this.resourceUrl=`${e}${r}`,this.fetch=this.fetch.bind(this),this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.name=r}async fetch({filter:r,sort:e,skip:s,take:o}={}){const t=new URL(this.resourceUrl);r&&t.searchParams.set("$filter",JSON.stringify(r)),e&&t.searchParams.set("$sort",JSON.stringify(e)),s!==void 0&&t.searchParams.set("$skip",s),o!==void 0&&t.searchParams.set("$take",o);const a=await fetch(t.toString());if(!a.ok)throw new Error(`Error al cargar datos de ${this.resourceUrl}`);return await a.json()}async fetchOne(r){const e=`${this.resourceUrl}/${r}`,s=await fetch(e);if(!s.ok)throw new Error(`Error al obtener el recurso: ${s.statusText}`);return await s.json()}async create(r){const e=await fetch(this.resourceUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const s=await e.json();throw e.status===409?new Error(`${s.message} (409)`||`Error al crear el recursos en ${this.resourceUrl}`):new Error(`Error al crear un recurso en ${this.resourceUrl}`)}return await e.json()}async update(r,e){const s=await fetch(`${this.resourceUrl}/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const o=await s.json();throw s.status===409?new Error(`${o.message} (409)`||`Error al crear el recursos en ${this.resourceUrl}`):new Error(`Error al actualizar el recurso con ID ${r} en ${this.resourceUrl}`)}return await s.json()}async delete(r){const e=await fetch(`${this.resourceUrl}/${r}`,{method:"DELETE"});if(!e.ok){const s=await e.json();throw e.status===409?new Error(`${s.message} (409)`||`Error al eliminar el recurso con ID ${r}`):new Error(`Error al eliminar el recurso con ID ${r} en ${this.resourceUrl}`)}return{id:r}}}export{n as A,h as a};
